$.fn.filey=function(e){selector=$(this),e=$.extend({removeFile:!1,labelNoFile:"no file choosen",labelChooseFile:"choose a file",labelChangeFile:"change file",labelRemoveFile:"remove file"},e);var l=$(selector),i=$(l).width(),t=$(l).height(),a=$("<div />",{text:e.labelNoFile,"class":"filey-show",placeholder:l.val(),style:"height:"+t+"px; width:"+i+"px;"}),h=$("<button/>",{text:e.labelChooseFile,"class":"filey-change",style:"display: block; height:"+t+"px; width:"+i+"px;"}),n=$("<button/>",{text:e.labelRemoveFile,"class":"filey-remove",style:"display: block; height:"+t+"px; width:"+i+"px;"}),o="display: block; width: 0; height: 0; overflow:hiddden; visability:hidden";$(l).attr("style",o).wrap('<div class="filey-wrap"></div>'),$(l).after(a),$(l).after(h),e.removeFile&&$(l).after(n),$(".filey-change").click(function(){$(this).parent().find("input").click()}),$(".filey-remove").click(function(){$(this).parent().find("input").val(""),$(this).parent().find(".filey-show").text(e.labelNoFile)}),$(l).change(function(){var l=$(this).val().split("\\");if("undefined"!=typeof l[2])var i=l[2];else var i=$(this).val();$(this).parent().find(".filey-show").text(i),$(this).parent().find(".filey-change").text(e.labelChangeFile)})};